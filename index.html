<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Googlemaps-poi-loader by simkesd</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Googlemaps-poi-loader</h1>
        <p>Library that helps you load your Points Of Interests on google map.</p>

        <p class="view"><a href="https://github.com/simkesd/googlemaps-poi-loader">View the Project on GitHub <small>simkesd/googlemaps-poi-loader</small></a></p>


        <ul>
          <li><a href="https://github.com/simkesd/googlemaps-poi-loader/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/simkesd/googlemaps-poi-loader/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/simkesd/googlemaps-poi-loader">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="googlemaps-poi-loader" class="anchor" href="#googlemaps-poi-loader" aria-hidden="true"><span class="octicon octicon-link"></span></a>googlemaps-poi-loader</h1>

<p>Small and simple Library that helps you load your Points Of Interests in kml format on your google map.
I decided to test my knowledge of javascript and I've tried to make a library with some basic options.
Google maps poi loader may be of use for you if you have a list of POIs you want to load to your map, 
and add some functionalities to that list such as loading only POIs of clicked element.</p>

<h3>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h3>

<p>You must load jquery, in my example I am using version 2.1.3.</p>

<h5>
<a id="html-structure" class="anchor" href="#html-structure" aria-hidden="true"><span class="octicon octicon-link"></span></a>HTML structure</h5>

<div class="highlight highlight-HTML"><pre>&lt;<span class="pl-ent">ul</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>filters<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">li</span> <span class="pl-e">data-layer-url</span>=<span class="pl-s"><span class="pl-pds">"</span>http://happyfist.co/pois/pois/POI/gyms.kml<span class="pl-pds">"</span></span>&gt;&lt;<span class="pl-ent">a</span>&gt;Gyms&lt;/<span class="pl-ent">a</span>&gt;&lt;/<span class="pl-ent">li</span>&gt;
    &lt;<span class="pl-ent">li</span> <span class="pl-e">data-layer-url</span>=<span class="pl-s"><span class="pl-pds">"</span>http://happyfist.co/pois/pois/POI/hotels.kml<span class="pl-pds">"</span></span>&gt;&lt;<span class="pl-ent">a</span>&gt;Hotels&lt;/<span class="pl-ent">a</span>&gt;&lt;/<span class="pl-ent">li</span>&gt;
&lt;/<span class="pl-ent">ul</span>&gt;

&lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>map-canvas<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
</pre></div>

<p>Library uses data-layer-uri to get the location of your KML files.
=&gt; NOTE: Location of your KML files must be public, as google needs to read data from them so it could show them on the map.</p>

<h5>
<a id="javascript" class="anchor" href="#javascript" aria-hidden="true"><span class="octicon octicon-link"></span></a>Javascript</h5>

<p>You must initialize map by yourself, and pass reference to the map to constructor of library. So for an exmaple you can do this:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> map;
        <span class="pl-k">function</span> <span class="pl-en">initialize</span>() {
            map <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">google.maps</span>.Map(<span class="pl-c1">document</span>.<span class="pl-c1">getElementById</span>(<span class="pl-s"><span class="pl-pds">'</span>map-canvas<span class="pl-pds">'</span></span>), {
                center<span class="pl-k">:</span> <span class="pl-k">new</span> <span class="pl-en">google.maps</span>.LatLng(<span class="pl-c1">40.751077</span>, <span class="pl-k">-</span><span class="pl-c1">73.945135</span>),
                zoom<span class="pl-k">:</span> <span class="pl-c1">13</span>,
                mapTypeId<span class="pl-k">:</span> google.maps.MapTypeId.TERRAIN
            });

            <span class="pl-k">var</span> gm <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">gMap</span>({
                map<span class="pl-k">:</span> map,
                filters<span class="pl-k">:</span> $(<span class="pl-s"><span class="pl-pds">'</span>ul.filters li<span class="pl-pds">'</span></span>),
                <span class="pl-en">filterClickCallback</span>: <span class="pl-k">function</span>() {
                    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>filterClickCallback<span class="pl-pds">'</span></span>);
                }
            });

            gm.loadAll();
        }

        google.maps.<span class="pl-c1">event</span>.addDomListener(<span class="pl-c1">window</span>, <span class="pl-s"><span class="pl-pds">'</span>load<span class="pl-pds">'</span></span>, initialize);</pre></div>

<p>This portion of code will create initialize a google map for you (and set some options also, so you can actually see POIs)
Part of this code that we are particularly interested is next one: </p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> gm <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">gMap</span>({
                map<span class="pl-k">:</span> map,
                filters<span class="pl-k">:</span> $(<span class="pl-s"><span class="pl-pds">'</span>ul.filters li<span class="pl-pds">'</span></span>),
                <span class="pl-en">filterClickCallback</span>: <span class="pl-k">function</span>() {
                    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>filterClickCallback<span class="pl-pds">'</span></span>);
                }
            });

            gm.loadAll();</pre></div>

<p>This code is initializing our library by sending required parameters to constructor. So, required parameters are
    * Instance of google map object and
    * Array of DOM elements containing data-layer-url attribute. Its content should be exact location of your KML file.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/simkesd">simkesd</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-47470142-5', 'auto');
        ga('send', 'pageview');

    </script>

  </body>
</html>