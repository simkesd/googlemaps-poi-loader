var kmlLoader=function(){function e(){return u}function t(e){$.each(i,function(t,r){n($(r).data("layerUrl"),e)})}function r(){console.log(2),$(i).on("click",function(){if(y)for(var e=!1,t=0;t<u.length;t++)u[t].src===$(this).data("layerUrl")&&(e=!0,o(t));else a();e||n($(this).data("layerUrl")),void 0!==c&&(console.log(3),d.prototype.callbackReturnValue=c(),console.log(4))})}function o(e){u[e].layerInstance.setMap(null),u.splice(e,1)}function a(){$.each(u,function(e,t){t.layerInstance.setMap(null)}),d.prototype.kmlLayers=[]}function n(e,t){l(e,t)}function l(e,t){var r={url:e,preserveViewport:!0,map:p},o={};$.extend(!0,o,r,t);var a=new google.maps.KmlLayer(o);return u.push({layerInstance:a,src:e}),a}function s(e,t){a(),l(e,t)}var p,c,i={},u=[],y=!1,f=!1,d=function(e){if(void 0==e)throw new Error("You must pass parameters to kmlLoader object.");if(void 0===e.map)throw new Error("Google map object must be passed as property of data parameter.");if(void 0===e.filters)throw new Error("Array of DOM elements containing data-layer-url attribute must be passed as property of data parameter.");p=e.map,i=e.filters,c=e.filterClickCallback,y=e.onLayerChangeKeepState||y,f=e.showOnLoad,e.setEvents===!0&&(console.log(1),r()),f&&t()};return d.prototype.loadAll=t,d.prototype.addLayer=n,d.prototype.getLayers=e,d.prototype.loadSingleLayer=s,d.prototype.setEvents=r,d.prototype.clearPreviousLayers=a,d}();